<!DOCTYPE html> <script type="text/x-mathjax-config"> MathJax.Hub.Config({ TeX: { equationNumbers: { autoNumber: "AMS" } }, tex2jax: { inlineMath: [ ['$', '$'] ], displayMath: [ ['$$', '$$'] ], processEscapes: true, } }); MathJax.Hub.Register.MessageHook("Math Processing Error",function (message) { alert("Math Processing Error: "+message[1]); }); MathJax.Hub.Register.MessageHook("TeX Jax - parse error",function (message) { alert("Math Processing Error: "+message[1]); }); </script> <script type="text/javascript" async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"> </script><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="[Java] Garbage Collection" /><meta property="og:locale" content="en" /><meta name="description" content="Garbage Collection" /><meta property="og:description" content="Garbage Collection" /><link rel="canonical" href="https://gyurania.github.io/posts/gc/" /><meta property="og:url" content="https://gyurania.github.io/posts/gc/" /><meta property="og:site_name" content="gyurania" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-06-29T09:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[Java] Garbage Collection" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-29T09:00:00+09:00","datePublished":"2022-06-29T09:00:00+09:00","description":"Garbage Collection","headline":"[Java] Garbage Collection","mainEntityOfPage":{"@type":"WebPage","@id":"https://gyurania.github.io/posts/gc/"},"url":"https://gyurania.github.io/posts/gc/"}</script><title>[Java] Garbage Collection | gyurania</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="gyurania"><meta name="application-name" content="gyurania"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/profile.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">gyurania</a></div><div class="site-subtitle font-italic">Blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/gyurania" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['gyuraniakim','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>[Java] Garbage Collection</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[Java] Garbage Collection</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/gyurania">gyurania</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1656460800" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-06-29 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="956 words"> <em>5 min</em> read</span></div></div></div><div class="post-content"><h3 id="garbage-collection"><span class="mr-2">Garbage Collection</span><a href="#garbage-collection" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Garbage Collection(GC)은 JVM 상에서 더 이상 사용되지 않는 데이터가 할당되어 있는 메모리를 해제시켜주는 장치입니다. 또한 자동으로 동작하기 때문에 <strong>개발자가 메모리 관리를 할 필요가 없습니다.</strong> 주로 관리하는 대상은 Heap 영역 내의 객체 중에서 참조되지 않은 데이터입니다.</p><p>참조되어 있는지에 대한 개념을 reachability라 하고, 참조되고 있으면 reachable, 참조되고 있지 않으면 unreachable이라고 합니다. 또한 reachable로 인식되게 만들어주는 JVM Runtime Area들을 root set이라고 합니다.</p><p>GC는 unreachable한 객체들을 garbage라고 인식합니다.</p><p><img data-src="/assets/img/2022-06-29/GC.png" alt="GC" data-proofer-ignore></p><p>Heap 영역 내부의 객체들은 Method Area, Stack, Native Stack에서 참조되면 reachable로 판정됩니다. 또한 reachable한 객체가 참조하고 있는 다른 객체 역시 reachable이 됩니다.</p><p>unreachable로 판정된 객체들은 GC의 대상이 됩니다.</p><hr /><h3 id="gc-algorithm"><span class="mr-2">GC Algorithm</span><a href="#gc-algorithm" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>GC에 사용되는 알고리즘을 살펴보기 전에 Stop-The-World와 Weak Generational Hypothesis 개념을 알아야 합니다.</p><ul><li>Stop-The-World<ul><li>JVM은 GC를 통해 여유 메모리를 확보할 수 있음<li>그러나 GC가 너무 빈번하게 발생하면 프로그램의 성능을 저하시킴<li>GC가 일어나면 GC를 담당하는 스레드를 제외한 모든 스레드는 일시적으로 작동을 멈추는데 이를 <strong>Stop-The-World</strong> 현상이라고 함<li>모든 스레드가 정지되기 때문에 작업이 실행되지 않고 성능이 저하됨<li>따라서 적절한 빈도의 GC가 실행되도록 하여, Stop-The-World 시간을 줄여야 함</ul><li>Weak Generational Hypothesis<ul><li>GC를 성공적으로 수행하는 알고리즘을 설계하기 위한 가설<li>대부분의 객체는 빠르게 unreachable한 상태로 전환된다고 가정함<li>Heap의 메모리 영역 기준으로 오래된 영역에서 최신 영역으로의 참조 방향은 적게 존재한다고 가정함</ul></ul><h4 id="mark-and-sweep-algorithm"><span class="mr-2">Mark And Sweep Algorithm</span><a href="#mark-and-sweep-algorithm" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>가장 기본적인 알고리즘으로, root set으로부터 출발하여 참조되는 객체들을 마크함(Mark Phase)<li>이후에 마크되지 않은 객체들을 추적하여 삭제함(Sweep Phase)<li>메모리가 Fragmentation, 단편화되는 단점이 있음<li>메모리 단편화는, 메모리가 정렬되지 않은 조각으로 나뉘어져 추가적으로 메모리 할당이 되기 힘든 상태를 의미함<li>이를 해결하기 위한 알고리즘이 Mark And Compact Algorithm <img data-src="/assets/img/2022-06-29/Mark_And_Sweep_Algorithm.png" alt="Sweep" data-proofer-ignore></ul><h4 id="mark-and-compact-algorithm"><span class="mr-2">Mark And Compact Algorithm</span><a href="#mark-and-compact-algorithm" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>참조되는 객체들에 대해서 마크함<li>참조되지 않은 객체는 삭제함<li>이후에 메모리를 정리하여 메모리 단편화를 해결함 <img data-src="/assets/img/2022-06-29/Mark_And_Compact_Algorithm.png" alt="Compact" data-proofer-ignore></ul><hr /><h3 id="minor-gc와-major-gc"><span class="mr-2">Minor GC와 Major GC</span><a href="#minor-gc와-major-gc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>GC는 일어나는 시점에 따라서 크게 Minor GC와 Major GC로 나눌 수 있습니다.</p><h4 id="minor-gc"><span class="mr-2">Minor GC</span><a href="#minor-gc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>JVM의 Young 영역에서 일어나는 GC<li>Young에 위치한 각각의 영역이 가득 차게 되어 더 이상 새로운 객체를 생성할 수 없을 때 발생<li>마크된(reachable) 영역이 다음 영역으로 복사되면서 이루어지며, 삭제는 일어나지 않음<li>Stop-The-World 시간이 매우 짧아 이루어지지 않는다고 간주하며, Major GC에 비해 속도가 빠름</ul><h4 id="major-gc"><span class="mr-2">Major GC</span><a href="#major-gc" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><ul><li>JVM의 Old 영역에서 일어나는 GC<li>Stop-The-World 시간이 길며, 자바 프로그램 실행에 영향을 줌<li>이를 해결하기 위해 Mark And Compact Algorithm을 기반한 여러 GC 방식들이 선택 및 적용됨 <img data-src="/assets/img/2022-06-29/Minor_Major_GC.png" alt="Minor&amp;Major" data-proofer-ignore></ul><hr /><h3 id="참고링크"><span class="mr-2">참고링크</span><a href="#참고링크" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="https://tecoble.techcourse.co.kr/post/2021-08-30-jvm-gc/" target="\_blank">JVM에 관하여 - Part 4, Garbage Collection 기초</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/programming-language/'>Programming Language</a>, <a href='/categories/java/'>Java</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/java/" class="post-tag no-text-decoration" >java</a> <a href="/tags/gc/" class="post-tag no-text-decoration" >gc</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=%5BJava%5D+Garbage+Collection+-+gyurania&url=https%3A%2F%2Fgyurania.github.io%2Fposts%2Fgc%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=%5BJava%5D+Garbage+Collection+-+gyurania&u=https%3A%2F%2Fgyurania.github.io%2Fposts%2Fgc%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fgyurania.github.io%2Fposts%2Fgc%2F&text=%5BJava%5D+Garbage+Collection+-+gyurania" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/spring/">[Spring] Spring 시작하기</a><li><a href="/posts/tim-sort/">[Sort] Tim Sort(Insert Sort + Merge Sort)</a><li><a href="/posts/fermats-little-theorem/">[CT] 페르마의 소정리(Fermat's little theorem)</a><li><a href="/posts/framework-library/">[Spring] 프레임워크와 라이브러리의 차이</a><li><a href="/posts/sort-nlogn/">[Sort] 정렬 알고리즘(nlogn)</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/boj/">boj</a> <a class="post-tag" href="/tags/graph/">graph</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/bfs/">bfs</a> <a class="post-tag" href="/tags/brute-force/">brute-force</a> <a class="post-tag" href="/tags/sort/">sort</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/aop/">aop</a> <a class="post-tag" href="/tags/blog/">blog</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/java/"><div class="card-body"> <em class="timeago small" data-ts="1655938800" > 2022-06-23 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Java] Java란..?</h3><div class="text-muted small"><p> Java 프로그래밍 언어 중 하나로 컴퓨터 프로그램, 웹/모바일 애플리케이션 등을 만드는 데 사용됨 전 세계적으로 가장 많이 사용되는 언어 중 하나로 2022년 6월 기준 Python, C에 이어 3위를 차지함 https://www.tiobe.com/tiobe-index/ 자바 언어를 사용하는 이유 객체 지향적 언어로 유...</p></div></div></a></div><div class="card"> <a href="/posts/jvm/"><div class="card-body"> <em class="timeago small" data-ts="1656291600" > 2022-06-27 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Java] JVM, JRE, JDK</h3><div class="text-muted small"><p> 운영체제에 독립적 JVM(Java Virtual Machine) Java로 작성된 프로그램이 돌아가도록 만들어주는 것 자바 소스코드로 만들어지는 .class 파일을 실행할 수 있음 자바 바이트 코드를 실행하는 가상 환경 운영체제가 달라져도 자바 코드가 동일하게 작동할 수 있도록 환경을 제공함 WORA(Write one Run A...</p></div></div></a></div><div class="card"> <a href="/posts/boj-18405/"><div class="card-body"> <em class="timeago small" data-ts="1656558000" > 2022-06-30 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[BOJ] 18405번 경쟁적 전염 (Java/BFS)</h3><div class="text-muted small"><p> 문제 백준 18405번 경쟁적 전염 풀이 바이러스의 위치와 번호를 저장하기 위한 Virus 클래스를 정의합니다. 이때 바이러스 번호를 오름차순으로 정렬하기 위해 Comparable 인터페이스를 사용합니다. 주어진 시험관의 정보를 입력받습니다. 바이러스가 있을 경우 해당 바이러스의 ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/boj-17141/" class="btn btn-outline-primary" prompt="Older"><p>[BOJ] 17141번 연구소 2 (Java/Combination/BFS)</p></a> <a href="/posts/boj-14391/" class="btn btn-outline-primary" prompt="Newer"><p>[BOJ] 14391번 종이 조각 (Java/DFS)</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/gyurania">gyurania</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/boj/">boj</a> <a class="post-tag" href="/tags/graph/">graph</a> <a class="post-tag" href="/tags/java/">java</a> <a class="post-tag" href="/tags/bfs/">bfs</a> <a class="post-tag" href="/tags/brute-force/">brute-force</a> <a class="post-tag" href="/tags/sort/">sort</a> <a class="post-tag" href="/tags/spring/">spring</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/aop/">aop</a> <a class="post-tag" href="/tags/blog/">blog</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><script src="https://cdn.jsdelivr.net/npm/mermaid@8/dist/mermaid.min.js"></script> <script> $(function() { function updateMermaid(event) { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { const mode = event.data.message; if (typeof mermaid === "undefined") { return; } let expectedTheme = (mode === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* Re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } let initTheme = "default"; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches ) ) { initTheme = "dark"; } let mermaidConf = { theme: initTheme /* <default|dark|forest|neutral> */ }; /* Markdown converts to HTML */ $("pre").has("code.language-mermaid").each(function() { let svgCode = $(this).children().html(); $(this).addClass("unloaded"); $(this).after(`<div class=\"mermaid\">${svgCode}</div>`); }); mermaid.initialize(mermaidConf); window.addEventListener("message", updateMermaid); }); </script><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
